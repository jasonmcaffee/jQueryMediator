define(["jquery"],function(a){return function(a){var b=false;var c={allowedFunctions:[],allowedProperties:[],allowedJQueryFunctionProperties:[],provideAccessToDomElementArray:true,explicitFunctions:{},_jQueryMediator:function(b,c){var d=a(b,c);return e.mediator.mediateJQueryResult(d)},_MediatedQueryObject:function(a){this._$el=a;d._exposeAllowedjQueryObjectProperties(this,a)},_setMediatedQueryObjectPrototype:function(){this._MediatedQueryObject.prototype=this.explicitFunctions},_createAllowedJqueryFunctions:function(){for(var a=0;a<this.allowedJQueryFunctionProperties.length;++a){var b=this.allowedJQueryFunctionProperties[a];this._createAllowedJQueryFunction(b)}},_createAllowedJQueryFunction:function(b){this._jQueryMediator[b]=function(){return a[b].apply(a,arguments)}},_createPrototypeForMediatedQueryObject:function(){for(var a,b=0;void 0!==(a=this.allowedFunctions[b]);++b)this._createPrototypeFunction(a)},_createPrototypeFunction:function(b){this._MediatedQueryObject.prototype[b]=function(){var c=this._$el[b].apply(this._$el,arguments);if(c instanceof a)c=e.mediator.mediateJQueryResult(c);return c}},_exposeAllowedjQueryObjectProperties:function(a,b){for(var c,d=0;void 0!==(c=this.allowedProperties[d]);++d)a[c]=b[c];if(this.provideAccessToDomElementArray)for(var e=0,f=b.length;e<f;++e)a[e]=b[e]}};var d=c,e=d._jQueryMediator;e.mediator={setConfig:function(f){if(b)return;d=a.extend({},c,f);e=d._jQueryMediator;d._createAllowedJqueryFunctions();d._setMediatedQueryObjectPrototype();d._createPrototypeForMediatedQueryObject()},getConfig:function(){return d},freezeConfig:function(){b=true},mediateJQueryResult:function(a){return new d._MediatedQueryObject(a)}};e.mediator.setConfig(c);window.jQueryMediator=e;return e}(a)});